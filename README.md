# VU Blockchain 1 Laboratorinis Darbas

## Komandos Nariai

**M≈´s≈≥ Komanda:**

- Adomas Luko≈°eviƒçius (PHA256 - Rankinis realizavimas + AI pagerintas variantas)
- Nojus Petru≈°is (Nojaus Hash - Rankinis realizavimas)

**Palyginimo Komanda:**

- Valentinas ≈†amatoviƒçius
- Andrius Rakauskas

## Projekto Ap≈ævalga

≈†is projektas realizuoja originalias hash funkcijas VU Blockchain kurso 1 laboratoriniui darbui.
Tikslas - sukurti original≈≥ hash generatori≈≥, kuris atitikt≈≥ kriptografini≈≥ hash funkcij≈≥ standartus ir nekopijuot≈≥ esam≈≥ algoritm≈≥ kaip SHA-256 ar MD5.

- [VU Blockchain 1 Laboratorinis Darbas](#vu-blockchain-1-laboratorinis-darbas)
  - [Komandos Nariai](#komandos-nariai)
  - [Projekto Ap≈ævalga](#projekto-ap≈ævalga)
  - [Algoritmo pseudokodai](#algoritmo-pseudokodai)
    - [PHA256 (Adomo algoritmas)](#pha256-adomo-algoritmas)
    - [Nojaus Hash](#nojaus-hash)
  - [Realizavimo Detalƒós](#realizavimo-detalƒós)
    - [Kompiliavimo Instrukcijos](#kompiliavimo-instrukcijos)
      - [PHA256 (Adomas)](#pha256-adomas)
      - [Nojaus Hash (Nojus)](#nojaus-hash-nojus)
    - [Naudojimas](#naudojimas)
      - [Adomo ƒØrankiai (`Adomas/`)](#adomo-ƒØrankiai-adomas)
      - [Nojaus Hash (`Nojus/`)](#nojaus-hash-nojus-1)
  - [Eksperimentinis Tyrimas](#eksperimentinis-tyrimas)
    - [1. Teisingo I≈°vedimo Testavimas](#1-teisingo-i≈°vedimo-testavimas)
    - [2. Deterministi≈°kumo Testavimas](#2-deterministi≈°kumo-testavimas)
    - [3. Veikimo Efektyvumo Analizƒó](#3-veikimo-efektyvumo-analizƒó)
      - [PHA256 Greitis (rankinis)](#pha256-greitis-rankinis)
      - [PHA256\_AI Greitis (pagerintas)](#pha256_ai-greitis-pagerintas)
      - [Nojaus Hash Greitis](#nojaus-hash-greitis)
      - [SHA-256 Greitis (standartas)](#sha-256-greitis-standartas)
    - [4. Atsparumo Kolizijoms Testavimas](#4-atsparumo-kolizijoms-testavimas)
    - [5. Lavinos Efekto Analizƒó](#5-lavinos-efekto-analizƒó)
    - [6. NegrƒØ≈ætamumo Savybƒós Demonstracija](#6-negrƒØ≈ætamumo-savybƒós-demonstracija)
  - [Palyginimo Rezultatai](#palyginimo-rezultatai)
    - [PHA256 Vidinƒós Komandos Palyginimas (Rankinis vs AI-Pagerintas)](#pha256-vidinƒós-komandos-palyginimas-rankinis-vs-ai-pagerintas)
    - [Vis≈≥ Trij≈≥ Algoritm≈≥ Palyginimas](#vis≈≥-trij≈≥-algoritm≈≥-palyginimas)
    - [Palyginimas su Kitos Komandos Algoritmu](#palyginimas-su-kitos-komandos-algoritmu)
    - [Palyginimas su Standartiniais Algoritmais](#palyginimas-su-standartiniais-algoritmais)

## Algoritmo pseudokodai

### PHA256 (Adomo algoritmas)

```pseudocode
FUNCTION PHA256(input):
    x = 0, y = 0
    
    FOR each char IN input:
        x += cos(char)
        y += sin(char)
    
    RETURN float_to_hex32(x) + float_to_hex32(y)

FUNCTION float_to_hex32(value):
    value = abs(value)
    
    // Normalizuoti ƒØ (1,10) intervalƒÖ
    normalized = value / 10^floor(log10(value))
    
    // I≈°traukti 40 skaitmen≈≥ ƒØ du 64-bit sveikuosius skaiƒçius
    acc1 = extract_first_20_digits(normalized)
    acc2 = extract_next_20_digits(normalized)
    
    // Konvertuoti ƒØ 32 simboli≈≥ hex string
    RETURN format_hex(acc1, 16) + format_hex(acc2, 16)
```

### Nojaus Hash

Nojau u≈æpildyk pls üôè

```pseudocode
FUNCTION HASH(string):
    // Predetermined seed
    seed = 2671109

    // Seed keitimas priklausant nuo input
    FOR each char IN string:
        seed = seed + ASCII(char)

    SRAND(seed)
    // Value yra uint32 (32 bitu), kad pakeitus i hex formata, butu 8 ilgio
    value = RANDOM()

    // Random bit shifting priklausantis nuo seed
    FOR each char IN string:
        c = ASCII(char)
        shift = RANDOM() % 8

        IF RANDOM() % 2 == 0:
            rotated = ROTLEFT(c, shift, 8)
        ELSE:
            rotated = ROTRIGHT(c, shift, 8)

        // Predetermined bitu keitimas
        value = value XOR rotated
        value = ROTLEFT(value, 5, 32)
        value = value + (value >> 2)

    // 4 dalys (32 simboliu hex string)
    part1 = value
    part2 = NOT(value)
    part3 = value XOR 0xFFFF
    part4 = value * 3

    // Grazinamas hex string
    RETURN HEX32(part1) + HEX32(part2) + HEX32(part3) + HEX32(part4)

```

## Realizavimo Detalƒós

### Kompiliavimo Instrukcijos

#### PHA256 (Adomas)

```cmd
cd Adomas
make test
```

#### Nojaus Hash (Nojus)

```terminal
cd Nojus
make all
```

### Naudojimas

#### Adomo ƒØrankiai (`Adomas/`)

- Automatiniams testams ir benchmark'ams:

  ```cmd
  cd Adomas
  build\test_auto.exe
  ```

  Pasirinkus `t` (tests) galima patikrinti hash ilgius ir deterministi≈°kumƒÖ, `b` paleid≈æia vis≈≥ trij≈≥ metrik≈≥ benchmark'us. Galima rinktis konkret≈≥ algoritmƒÖ (PHA256, PHA256_AI, NojusHash, SHA256) arba `All`.

- Rankiniams eksperimentams:

  ```cmd
  cd Adomas
  build\test_man.exe
  ```

  Meniu leid≈æia sugeneruoti hash'ƒÖ i≈° konsolƒós ƒØvesties, nuskaityti failƒÖ, palyginti keli≈≥ algoritm≈≥ i≈°vestis ir i≈°matuoti lavinos efektƒÖ vienu simboliu besiskirianƒçioms eilutƒóms.

- Pagrindiniam hash generatoriui (pasirenka algoritmƒÖ interaktyviai ir leid≈æia nurodyti failƒÖ):

  ```cmd
  cd Adomas
  build\PHA256.exe konstitucija.txt
  ```

  Jei failo nƒóra, programa leid≈æia ƒØvesti tekstƒÖ rankiniu b≈´du.

#### Nojaus Hash (`Nojus/`)

Nojau u≈æpildyk pls üôè

## Eksperimentinis Tyrimas

### 1. Teisingo I≈°vedimo Testavimas

**Testiniai Failai:**

- Vieno simbolio failai (`a`, `b`)
- Dideli atsitiktiniai failai (>1000 simboli≈≥)
- Failai, skirtingai vienu simboliu
- Tu≈°ƒçias failas

**Rezultatai:**

| ƒÆvedimo tipas   | PHA256 | PHA256_AI | Nojaus Hash |
| --------------- | ------ | --------- | ----------- |
| Vienas simbolis | 64 hex | 64 hex    | 32 hex      |
| Didelis failas  | 64 hex | 64 hex    | 32 hex      |
| Tu≈°ƒçias failas  | 64 hex | 64 hex    | 32 hex      |

### 2. Deterministi≈°kumo Testavimas

**Metodas:** Tas pats input hash'inamas kelis kartus

**Rezultatai:**

| Algoritmas  | Deterministinis? |
| ----------- | ---------------- |
| PHA256      | Taip             |
| PHA256_AI   | Taip             |
| Nojaus Hash | Taip             |

### 3. Veikimo Efektyvumo Analizƒó

**Testinis Failas:** `konstitucija.txt`

#### PHA256 Greitis (rankinis)

| Apdorot≈≥ eiluƒçi≈≥ | Vid. laikas (ms) |
| ---------------- | ---------------- |
| 1                | 0.0134           |
| 2                | 0.0153           |
| 4                | 0.0182           |
| 8                | 0.0276           |
| 16               | 0.0546           |
| 32               | 0.0946           |
| 64               | 0.1880           |
| 128              | 0.4373           |
| 256              | 0.9302           |
| 512              | 2.1761           |

#### PHA256_AI Greitis (pagerintas)

| Apdorot≈≥ eiluƒçi≈≥ | Vid. laikas (ms) |
| ---------------- | ---------------- |
| 1                | 0.0185           |
| 2                | 0.0216           |
| 4                | 0.0294           |
| 8                | 0.0523           |
| 16               | 0.1447           |
| 32               | 0.2619           |
| 64               | 0.5237           |
| 128              | 1.2953           |
| 256              | 1.9367           |
| 512              | 3.0046           |

#### Nojaus Hash Greitis

| Apdorot≈≥ eiluƒçi≈≥ | Vid. laikas (ms) |
| ---------------- | ---------------- |
| 1                | 0.0135           |
| 2                | 0.0179           |
| 4                | 0.0256           |
| 8                | 0.0406           |
| 16               | 0.1007           |
| 32               | 0.1802           |
| 64               | 0.3664           |
| 128              | 0.8608           |
| 256              | 1.9328           |
| 512              | 4.3862           |

#### SHA-256 Greitis (standartas)

| Apdorot≈≥ eiluƒçi≈≥ | Vid. laikas (ms) |
| ---------------- | ---------------- |
| 1                | 0.0166           |
| 2                | 0.0205           |
| 4                | 0.0285           |
| 8                | 0.0352           |
| 16               | 0.0797           |
| 32               | 0.1432           |
| 64               | 0.2814           |
| 128              | 0.6598           |
| 256              | 1.4954           |
| 512              | 3.5281           |

**Veikimo Grafikas:**

![Veikimo Efektyvumo Grafikas](image1.png)

### 4. Atsparumo Kolizijoms Testavimas

**Metodas:** Generuoti 100,000 atsitiktini≈≥ eiluƒçi≈≥ por≈≥ kiekvienai ilgio kategorijai

Visoms funkcijoms (100 000 atsitiktini≈≥ por≈≥ kiekvienam ilgiui 10/100/500/1000) kolizij≈≥ nepastebƒóta.

| Algoritmas  | Por≈≥ skaiƒçius (per ilgƒØ) | Rast≈≥ kolizij≈≥ |
| ----------- | ------------------------ | -------------- |
| PHA256      | 100 000                  | 0              |
| PHA256_AI   | 100 000                  | 0              |
| Nojaus Hash | 100 000                  | 0              |
| SHA-256     | 100 000                  | 0              |

### 5. Lavinos Efekto Analizƒó

**Metodas:** 100,000 por≈≥, skirting≈≥ vienu simboliu

| Algoritmas  | Hex min/avg/max (% nuo maksimalios reik≈°mƒós) | Bit min/avg/max (% nuo bit≈≥ ilgio) |
| ----------- | -------------------------------------------- | ---------------------------------- |
| PHA256      | 75.0% / 93.5% / 100%                         | 35.9% / 49.8% / 62.5%              |
| PHA256_AI   | 78.1% / 93.7% / 100%                         | 37.1% / 50.0% / 62.5%              |
| Nojaus Hash | 18.8% / 46.9% / 50%                          | 9.4% / 25.0% / 40.6%               |
| SHA-256     | 78.1% / 93.8% / 100%                         | 36.7% / 50.0% / 64.1%              |

Visiems algoritmams idealus tikslas ‚Äì ~50% bit≈≥ pokytis. PHA256, PHA256_AI ir SHA-256 vidutini≈°kai pasiekia beveik ideal≈≥ 50% rezultatƒÖ, tuo tarpu Nojaus Hash lavinos efektas vis dar silpnesnis.

### 6. NegrƒØ≈ætamumo Savybƒós Demonstracija

**Metodas:** Hash su druska `HASH(input + salt)`

| Algoritmas  | Druskos poveikis                                                                                                                   | Atvirk≈°tinio atvaizdavimo pastabos                                                                                                                                                                |
| ----------- | ---------------------------------------------------------------------------------------------------------------------------------- | ------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------- |
| PHA256      | Papildoma druska pakankamai sumai≈°o ƒØvestƒØ ir keiƒçia trigonometrini≈≥ sum≈≥ trajektorijƒÖ; ta pati druska b≈´tina atkartoti rezultatƒÖ. | Dƒól deterministinio skaiƒçiavimo ir apribotos vidinƒós b≈´senos galima bandyti rekonstruoti ƒØvestis brutalia jƒóga, taƒçiau druska ≈æenkliai padidina paie≈°kos erdvƒô.                                   |
| PHA256_AI   | Druska keiƒçia randomizuot≈≥ poslinki≈≥ sekƒÖ, todƒól be druskos ≈æinoti tikslios OP rotacij≈≥ eigos neƒØmanoma.                           | Kompleksinƒó bit≈≥ mai≈°ymo grandinƒó ir papildomi XOR/rotacijos ≈æingsniai apsunkina reverse engineering, bet dƒól deterministini≈≥ ≈æingsni≈≥ vis tiek reikalauja brutaliaus bandymo.                    |
| Nojaus Hash | Druska keiƒçia pradinƒØ `srand` seed; be jos neƒØmanoma pakartoti rand() sekos.                                                       | Naudojamas pseudoatsitiktinis generatorius yra deterministinis. ≈Ωinant PRNG tipƒÖ ir u≈æfiksavus pakankamai i≈°vesƒçi≈≥ galima atsekti b≈´senƒÖ, todƒól rekomenduojama rinktis ilgas ir unikalas druskas. |

## Palyginimo Rezultatai

### PHA256 Vidinƒós Komandos Palyginimas (Rankinis vs AI-Pagerintas)

| Metrika               | PHA256 (rankinis)           | PHA256_AI (pagerintas)                                    | Komentaras                                               |
| --------------------- | --------------------------- | --------------------------------------------------------- | -------------------------------------------------------- |
| Greitis (512 eiluƒçi≈≥) | 2.30 ms                     | 2.06 ms                                                   | AI versija ~11% greitesnƒó dƒól optimizuoto duomen≈≥ kelio. |
| Kolizij≈≥ da≈ænis       | 0 / 100 000                 | 0 / 100 000                                               | Abiejose versijose kolizij≈≥ nepastebƒóta.                 |
| Lavinos efektas       | 49.8% bit≈≥                  | 50.0% bit≈≥                                                | AI versija pasiekia ≈°iek tiek labiau ideal≈≥ 50% tikslƒÖ.  |
| Lavinos min / max     | 35.9% / 62.5%               | 37.1% / 62.5%                                             | Minimalus bit≈≥ pokytis pagerƒójo, maksimalus identi≈°kas.  |
| Druskos atsparumas    | Priklauso nuo druskos ilgio | Atsparumas nenukenƒçia, PRNG poslinkiai NAV druskos atveju | Druskos naudojimas rekomenduojamas abiem algoritmams.    |

I≈°vada: AI pagerinta versija i≈°laiko deterministi≈°kumƒÖ ir kolizij≈≥ atsparumƒÖ, ≈°iek tiek pagerina greitƒØ ir lavinos efektƒÖ, todƒól rekomenduojama pagrindiniams eksperimentams.

### Vis≈≥ Trij≈≥ Algoritm≈≥ Palyginimas

| Algoritmas        | Greitis (512 eiluƒçi≈≥, ms) | Kolizij≈≥ da≈ænis | Lavinos efektas   |
| ----------------- | ------------------------- | --------------- | ----------------- |
| PHA256 (Rankinis) | 2.30                      | 0               | ~50% vidutini≈°kai |
| PHA256_AI         | 2.06                      | 0               | ~50% vidutini≈°kai |
| Nojaus Hash       | 5.28                      | 0               | ~25% vidutini≈°kai |
| SHA-256           | 2.30                      | 0               | ~50% vidutini≈°kai |

### Palyginimas su Kitos Komandos Algoritmu

| Algoritmas              | Greitis (512 eiluƒçi≈≥, ms) | Kolizij≈≥ da≈ænis | Lavinos efektas |
| ----------------------- | ------------------------- | --------------- | --------------- |
| PHA256 (Rankinis)       | 2.30                      | 0 / 100 000     | 49.8%           |
| PHA256_AI               | 2.06                      | 0 / 100 000     | 50.0%           |
| Nojaus Hash             | 5.28                      | 0 / 100 000     | 25.0%           |
| Valentinas/Andrius Algo | _TBD_                     | _TBD_           | _TBD_           |

### Palyginimas su Standartiniais Algoritmais

| Algoritmas  | Greitis (512 eiluƒçi≈≥, ms) | Atsparumas kolizijoms | Lavinos efektas (vid. % bit≈≥) |
| ----------- | ------------------------- | --------------------- | ----------------------------- |
| PHA256      | 2.305                     | 0 kolizij≈≥            | 49.8%                         |
| PHA256_AI   | 2.064                     | 0 kolizij≈≥            | 50.0%                         |
| Nojaus Hash | 5.283                     | 0 kolizij≈≥            | 25.0%                         |
| SHA-256     | 2.296                     | 0 kolizij≈≥            | 50.0%                         |
